{% extends "layout.html" %}
{% block body %}

<script>
function columnModif() {
	alert("Normalement ca permettra de modif la colonne");
}

function caseAdd() {
	alert("Normalement ca ajoutera une carte a la colonne");
}

$(function() {

$( ".columnCreation" ).button().click(function() {
	var colContainer = $("<div class=\"column\"></div>");
	var columnTitle = $("<button class=\"columnTitle btn disabled\">Colonne</button>").button().click(function() { columnModif(); });
	var addCard = $("<button class=\"addCard  btn disabled\">Add a card...</button></div></td>").button().click(function() { caseAdd(); });

	colContainer.append(columnTitle);

	var cardsSpace = $("<div class=\"cardsSpace\"></div>").droppable({ hoverClass: "ui-state-active" });
	var cardsList = $("<ul class=\"cardsList\"></ul>").sortable({ connectWith: "ul" }).disableSelection();

	cardsList.appendTo(cardsSpace);
	cardsSpace.appendTo(colContainer);
	colContainer.append(addCard);
	colContainer.appendTo("#columnsList");
})

$(".cardsList").sortable({
	connectWith: "ul"
}).disableSelection();

$( ".cardsSpace" ).droppable({
	hoverClass: "ui-state-active"
});

$( ".columnTitle" ).button().click(function() {
	columnModif();
})

$(".addCard").button().click(function() {
	caseAdd();
})


});
</script>

<a class="columnCreation btn btn-large">Ajouter une colonne</a>
<hr>

<div id="columnsList">
<div class="column">
<button class="columnTitle btn disabled">Colonne</button>
<div class="cardsSpace">
<ul class="cardsList">
<li class="navbar-inner postit">Lorem ipsum sin</li>
<li class="navbar-inner postit">Lorem ipsum sin dolor </li>
<li class="navbar-inner postit">Lorem ipsum sin dolor amet </li>
<li class="navbar-inner postit">mo mo </li>
<li class="navbar-inner postit">MOTUS </li>
</ul>
</div>
<button class="addCard btn disabled">Add a card...</button>
</div>

</div>
{% endblock %}
