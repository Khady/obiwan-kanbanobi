<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title></title>
  
  <style type="text/css">
    body
    {
    font:62.5% Verdana,Arial,sans-serif
    }
  </style>
  <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js"></script>
<!-- Original piece of code found on : http://forum.jquery.com/topic/can-the-same-element-have-draggable-and-click-event !-->
  <script>
    $(function() {
    
    $( "#dialog" ).dialog({
	autoOpen: false,
	show: {
		effect: "drop",
		duration: 300
	},
	hide: {
		effect: "drop",
		duration: 300
	}
    });

    var dragCheck = false;

    $( "#drg" )
    .draggable({
	revert: 'invalid',
    drag: function() {
    // On drag set that flag to true
	dragCheck = true;
   },
    stop: function() {
    // On stop of dragging reset the flag back to false
	dragCheck = false;
    }
    })
    .bind('mouseup', function() {
    if (dragCheck == false) {
    // do the click action here...
	$("#dialog").dialog("open");
    }
    })
    .hover(function () {
	$(this).css('cursor','pointer');
    },
    function () {
	$(this).css('cursor','auto');
    })


    $( "button" ).button().click(function() {
    $( "<li>Colonne<hr></li>" ).droppable().appendTo( "#drplist" );
    })

    });
  </script>
  
  <style type="text/css">    
    #drg
    {
    background: white;
    width: 180px;
    height: 60px;
    padding: 0.5em;
    text-align: center;
    border:solid;
    border-width:1px;
    }
    
    ul, ul li { list-style: none; margin:0 ; padding: 0; }
    
    #drplist li
    {
    width: 200px;
    height: 100px;
    margin: 1em;
    padding: 0.5em;
    background: lightgray;
    font-size: 150%;
    font-weight:bold;
    }
  </style>
</head>
<body>
<div id="dialog" title="Post-It"></div>

<div id="drg">
  <p>EDITEZ MOI</p>
</div>

<hr>
<button id="columnCreation">Cliquer pour ajouter une colonne</button>
<button id="postitCreation">Cliquer pour ajouter un post-it</button>

<ul id="drplist">
  <li>
    <div class="column">
      Colonne
      <hr>
    </div>
  </li>
</ul>

</body>
</html>
